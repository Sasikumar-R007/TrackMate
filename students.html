<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TrackMate â€“ Students</title>
    <style>
      body {
        font-family: Arial;
        background: #f4f4f4;
        margin: 0;
        text-align: center;
      }
      header {
        background: #6c757d;
        color: white;
        padding: 15px;
        font-size: 1.5em;
      }
      .container {
        max-width: 500px;
        margin: 20px auto;
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }
      ul {
        list-style: none;
        padding: 0;
      }
      li {
        padding: 8px;
        border-bottom: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <header>TrackMate â€“ Students List</header>
    <div class="container">
      <ul id="list">
        Loading...
      </ul>
      <a href="//10.84.248.150/enroll">Enroll</a> |
      <a href="//10.84.248.150/verify">Verify</a>
    </div>

    <script>
      // ðŸ”¥ Replace with your Firebase Realtime Database URL
      const FIREBASE_DB =
        "https://trackmate-07-default-rtdb.firebaseio.com/students.json";

      fetch(FIREBASE_DB)
        .then((res) => res.json())
        .then((data) => {
          const list = document.getElementById("list");
          list.innerHTML = "";
          if (!data) {
            list.innerHTML = "<li>No students found</li>";
            return;
          }
          Object.keys(data).forEach((key) => {
            const li = document.createElement("li");
            li.innerText = `${data[key].id} - ${data[key].name}`;
            list.appendChild(li);
          });
        })
        .catch(
          () =>
            (document.getElementById("list").innerHTML =
              "<li>Error loading data</li>")
        );
    </script>
  </body>
</html>
